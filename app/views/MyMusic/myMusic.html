<!-- MyMusic view -->
<header ng-include="'app/views/Header/header.html'" class="g-header" ng-controller="HeaderCtrl"></header>
<div class="g-body">
    <div id="g-myMusic" class="container g-container" ng-controller="MyMusicCtrl">
        <div class="g-menu sidebar-nav navbar-collapse collapse pull-left" data-ng-init="loadPlaylists()">
            <ul class="nav nav-pills nav-stacked menus">
                <li class="menu" title="创建的歌单">
                    <a class="menu-title" ng-click="toggleMenuOpen('isCreateMenuOpen')">
                        <i class="fa" ng-class="{true: 'fa-chevron-down', false: 'fa-chevron-right'}[isCreateMenuOpen]"></i>
                        创建的歌单
                        <button type="button" class="btn btn-default btn-xs pull-right">
                            <i class="fa fa-plus"></i>新建
                        </button>
                    </a>
                    <ul class="nav nav-pills nav-stacked sub-menus" ng-class="{false: 'hidden'}[isCreateMenuOpen]">
                        <li class="sub-menu" ng-repeat="createPlaylist in createPlaylists"
                            ng-class="{active: locationId===createPlaylist.id}"
                            title="{{createPlaylist.playlist_name}}" ng-click="changeUrl(createPlaylist, 'isCreateMenuOpen')">
                            <div class="media">
                                <!--<div class="avatar media-left">-->
                                    <!--<a href="javascript:void(0);">-->
                                        <!--<img class="media-object" src="{{loadImg(createPlaylist.first_mp3_url)}}" width="40" height="40">-->
                                    <!--</a>-->
                                <!--</div>-->
                                <div class="media-body">
                                    <p class="media-heading">{{createPlaylist.playlist_name}}</p>
                                    <p class="num">{{createPlaylist.song_count}}首</p>
                                </div>
                            </div>
                            <span class="hidden oper">
                                <i title="编辑" class="fa fa-edit"></i>
                                <i title="删除" class="fa fa-trash-o"></i>
                            </span>
                        </li>
                    </ul>
                </li>
                <li class="menu" title="收藏的歌单">
                    <a class="menu-title" ng-click="toggleMenuOpen('isCollectMenuOpen')">
                        <i class="fa" ng-class="{true: 'fa-chevron-down', false: 'fa-chevron-right'}[isCollectMenuOpen]"></i>
                        收藏的歌单
                    </a>
                    <ul class="nav nav-pills nav-stacked sub-menus" ng-class="{false: 'hidden'}[isCollectMenuOpen]">
                        <li class="sub-menu" ng-repeat="collectPlaylist in collectPlaylists"
                            ng-class="{active: locationId===collectPlaylist.id}"
                            title="{{collectPlaylist.playlist_name}}" ng-click="changeUrl(collectPlaylist, 'isCollectMenuOpen')">
                            <div class="media">
                                <!--<div class="avatar media-left">-->
                                    <!--<a href="javascript:void(0);">-->
                                        <!--<img class="media-object" src="{{loadImg(collectPlaylist.first_mp3_url)}}" width="40" height="40">-->
                                    <!--</a>-->
                                <!--</div>-->
                                <div class="media-body">
                                    <p class="media-heading">{{collectPlaylist.playlist_name}}</p>
                                    <p class="num">{{collectPlaylist.song_count}}首</p>
                                </div>
                            </div>
                            <span class="hidden oper">
                                <i title="删除" class="fa fa-trash-o"></i>
                            </span>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
        <div class="g-content pull-left" autoscroll>
            <div class="media">
                <div class="media-left media-middle">
                    <a href="javascript:void(0);">
                        <img class="media-object" src="{{currPlaylistInfo.img}}" width="160" height="160">
                    </a>
                </div>
                <div class="media-body">
                    <h4 class="media-heading">{{currPlaylistInfo.playlist_name}}</h4>
                    ...
                </div>
            </div>
            <div class="playlist-songs">
                <table id="playlist-song-table" class="table table-condensed table-striped table-hover">
                    <thead>
                        <tr>
                            <th>序号</th>
                            <th>歌取名</th>
                            <th>所属歌手</th>
                            <th>所属专辑</th>
                            <th>出版日期</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="playlistSong in playlistSongs">
                            <td>{{$index + 1}}</td>
                            <td class="name-td" ng-click="goToSingerPage(playlistSong.id)">{{playlistSong.song_name}}</td>
                            <td>{{playlistSong.singer_name}}</td>
                            <td>{{playlistSong.album_name}}</td>
                            <td>{{playlistSong.publish_date}}</td>
                            <td>
                                <i class="fa fa-play-circle" ng-click="play(playlistSong.url)"></i>
                                <i class="fa fa-trash" ng-click="deleteSinger(playlistSong.id)"></i>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<footer ng-include="'app/views/Templates/footer.html'" class="g-footer"></footer>